import 'package:flutter/material.dart';import 'package:finalexam/model/item_model.dart';import 'package:cloud_firestore/cloud_firestore.dart';import 'package:finalexam/provider/todo_db.dart';import 'package:finalexam/screen/detail_item_screen.dart';class DoneListWidget extends StatefulWidget {  @override  _DoneListWidgetState createState() => _DoneListWidgetState();}class _DoneListWidgetState extends State<DoneListWidget> {  final db = TodoDataBaseService();  bool open;  @override  void initState() {    open = false;    super.initState();  }  @override  void dispose() {    super.dispose();  }  Widget _buildList(BuildContext context, List<DocumentSnapshot> docs) {    return Column(      // controller: scrollController,      children: docs.map((doc) => _buildListItem(context,doc)).toList(),    );  }  Widget _buildListItem(BuildContext context, DocumentSnapshot doc) {    Todo todo = Todo.fromFireStore(doc);    return InkWell(//      onTap: () => Navigator.of(context).push(MaterialPageRoute(builder: (context) => DetailItemScreen(doc.documentID, todo.name, todo.info, todo.time.toDate()))),      child: ListTile(        trailing: IconButton(          icon: Icon(            Icons.delete,          ),          onPressed: () => db.removeTodo(doc.documentID),        ),        title: Text(todo.name),        leading: MaterialButton(          onPressed: () => db.doneButtonTodo(doc.documentID, todo.done),          child: Checkbox(              value: todo.done,              onChanged: null          ),        ),        subtitle: Text(          todo.info,        ),      ),    );  }  @override  Widget build(BuildContext context) {    return StreamBuilder<QuerySnapshot>(      stream: Firestore.instance.collection("Users").document("test").collection('Todos').where("Done", isEqualTo: true ).snapshots(),      builder: (context,snapshot) {        if(snapshot.hasData) return Container(child: _buildList(context, snapshot.data.documents));        return Container();      },    );  }}